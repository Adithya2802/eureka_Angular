<!-- Assignment
----------
1. create 1 EmployeeCRUD component
2. display list of employees in a table(data comes from an array)
3. user should be able to delete Employee (ask user confirmation)
4. view the details of each employee in a modal (bootstrap Modal)
5. add a new employee to the table (insert a new record to the array)
   use SnackBar to display message ('EmployAdded Successfully' - message should be maintained in a constant file) -->
<!-- <p>employee-crud works!</p> -->
<button class="btn btn-success mx-2" (click)="openSnackbar()">Open Snackbar</button>
 <div>
    <table class="table table-bordered table-striped ">
      <tbody>
        @for(employee of employees; track employee.id; ){
        <tr>
            <td>{{employee.id}}</td>
            <td>{{employee.firstName}}</td>
            <td>{{employee.lastName}}</td>
            <td>
              <button class="btn btn-primary" (click)="delete(employee.id)">Delete</button>
            </td>
            <td>
              <button type="button" (click)="addEmployee(employee)" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">view</button>    
            </td>  
          </tr>
    }
  </tbody>
    </table>
    <!-- <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal">LaunchInModal</button> -->
    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addEmployee">AddEmployee</button>

    
 </div>

 <!-- Button trigger modal -->
<!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
    Launch static backdrop modal
  </button> -->
  
  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">Userdetails</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div>id: {{selectedEmp?.id}}</div>
          <div>firstname : {{selectedEmp?.firstName}}</div>
          <div>Last anme:{{selectedEmp?.lastName}}</div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Understood</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="addEmployee" *ngIf="showAddModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">Add Employee</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form >
            <div class="mb-3">
              <label for="" class="form-label">firstname</label>
              <input type="text" name="firstName" [(ngModel)]="firstName" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
              <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
            </div>
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label">lastname</label>
              <input type="text"  name="lastName" [(ngModel)]="lastName" class="form-control" id="exampleInputPassword1">
            </div>
        
            <button type="submit" (click)="submit()" class="btn btn-primary">Submit</button>
          </form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Understood</button>
        </div>
      </div>
    </div>
  </div>